[
    {
        "name": "Test field limiting on awards/",
        "method": "POST",
        "status_code": 200,
        "request_object": {
            "fields": [
                "fain",
                "uri",
                "piid"
            ]
        },
        "url": "/api/v1/awards/?page=1&limit=1",
        "response_object": {
            "page_metadata": {
                "page_number": 1,
                "count": 1,
                "num_pages": 26
            },
            "total_metadata": {
                "count": 26
            },
            "results": [
                {
                    "piid": null,
                    "fain": "SBAHQ15J0005",
                    "uri": null
                }
            ]
        }
    },
    {
        "name": "Testing field exclusion on awards/",
        "method": "POST",
        "status_code": 200,
        "request_object": {
            "page": 1,
            "exclude": [
                "fain",
                "uri",
                "piid"
            ],
            "limit": 1
        },
        "url": "/api/v1/awards/",
        "response_object": {
            "page_metadata": {
                "page_number": 1,
                "count": 1,
                "num_pages": 26
            },
            "total_metadata": {
                "count": 26
            },
            "results": [
                {
                    "id": 47587,
                    "date_signed__fy": 2016,
                    "type": "05",
                    "type_description": "Cooperative Agreement",
                    "total_obligation": "15000.00",
                    "total_outlay": null,
                    "date_signed": "2016-09-20",
                    "description": "FY 15 7J",
                    "period_of_performance_start_date": "2016-09-20",
                    "period_of_performance_current_end_date": "2016-12-28",
                    "potential_total_value_of_award": null,
                    "awarding_agency": {
                        "id": 1234567,
                        "toptier_agency": {
                            "cgac_code": "HEY",
                            "fpds_code": "HEYA",
                            "name": "DEPARTMENT OF POORLY NAMED TEST DATA"
                        },
                        "subtier_agency": {
                            "subtier_code": "YEAH",
                            "name": "DEPARTMENT OF ARACHNID DISPOSAL"
                        },
                        "office_agency": null
                    },
                    "funding_agency": {
                        "id": 1234567,
                        "toptier_agency": {
                            "cgac_code": "HEY",
                            "fpds_code": "HEYA",
                            "name": "DEPARTMENT OF POORLY NAMED TEST DATA"
                        },
                        "subtier_agency": {
                            "subtier_code": "YEAH",
                            "name": "DEPARTMENT OF ARACHNID DISPOSAL"
                        },
                        "office_agency": null
                    },
                    "recipient": {
                        "legal_entity_id": 799999094,
                        "parent_recipient_unique_id": null,
                        "recipient_name": "PROJECT SOLUTIONS, INC.",
                        "business_types": "Q",
                        "business_types_description": "Unknown Business Type",
                        "location": {
                            "country_name": null,
                            "state_code": "SD",
                            "state_name": "South Dakota",
                            "city_name": "Rapid City",
                            "address_line1": "3022 W Saint Louis St",
                            "address_line2": null,
                            "address_line3": null,
                            "zip5": "57702",
                            "foreign_postal_code": null,
                            "foreign_province": null,
                            "foreign_city_name": null,
                            "location_country_code": "USA"
                        }
                    },
                    "place_of_performance": {
                        "country_name": null,
                        "state_code": null,
                        "state_name": "South Dakota",
                        "city_name": "Rapid City",
                        "address_line1": null,
                        "address_line2": null,
                        "address_line3": null,
                        "zip5": null,
                        "foreign_postal_code": null,
                        "foreign_province": null,
                        "foreign_city_name": null,
                        "location_country_code": "USA"
                    }
                }
            ]
        }
    },
    {
        "name": "Testing filter operation 'equals' on awards",
        "method": "POST",
        "status_code": 200,
        "request_object": {
            "filters": [
                {
                    "operation": "equals",
                    "field": "funding_agency__toptier_agency__name",
                    "value": "DEPARTMENT OF POORLY NAMED TEST DATA"
                }
            ],
            "fields": [
                "funding_agency"
            ]
        },
        "url": "/api/v1/awards/?page=1&limit=1",
        "response_object": {
            "page_metadata": {
                "page_number": 1,
                "count": 1,
                "num_pages": 5
            },
            "total_metadata": {
                "count": 5
            },
            "results": [
                {
                    "funding_agency": {
                        "id": 1234567,
                        "toptier_agency": {
                            "cgac_code": "HEY",
                            "fpds_code": "HEYA",
                            "name": "DEPARTMENT OF POORLY NAMED TEST DATA"
                        },
                        "subtier_agency": {
                            "subtier_code": "YEAH",
                            "name": "DEPARTMENT OF ARACHNID DISPOSAL"
                        },
                        "office_agency": null
                    }
                }
            ]
        }
    },
    {
        "name": "Testing filter operation 'range_intersect' on awards",
        "method": "POST",
        "status_code": 200,
        "request_object": {
            "filters": [
                {
                    "operation": "range_intersect",
                    "field": [
                        "create_date",
                        "update_date"
                    ],
                    "value": [
                        "2015-10-05",
                        "2016-12-10"
                    ]
                }
            ],
            "fields": [
                "create_date",
                "update_date"
            ]
        },
        "url": "/api/v1/awards/?page=1&limit=1",
        "response_object": {
            "page_metadata": {
                "page_number": 1,
                "count": 0,
                "num_pages": 1
            },
            "total_metadata": {
                "count": 0
            },
            "results": []
        }
    },
    {
        "name": "Testing filter operation 'search' on awards",
        "method": "POST",
        "status_code": 200,
        "request_object": {
            "filters": [
                {
                    "operation": "search",
                    "field": "funding_agency__toptier_agency__name",
                    "value": "poorly"
                }
            ],
            "fields": [
                "fain",
                "create_date",
                "funding_agency"
            ]
        },
        "url": "/api/v1/awards/?page=1&limit=5",
        "response_object": {
            "page_metadata": {
                "page_number": 1,
                "count": 5,
                "num_pages": 1
            },
            "total_metadata": {
                "count": 5
            },
            "results": [
                {
                    "fain": "SBAHQ16V0028",
                    "create_date": "2016-12-20T22:50:55.986000Z",
                    "funding_agency": {
                        "id": 1234567,
                        "toptier_agency": {
                            "cgac_code": "HEY",
                            "fpds_code": "HEYA",
                            "name": "DEPARTMENT OF POORLY NAMED TEST DATA"
                        },
                        "subtier_agency": {
                            "subtier_code": "YEAH",
                            "name": "DEPARTMENT OF ARACHNID DISPOSAL"
                        },
                        "office_agency": null
                    }
                },
                {
                    "fain": "SBAHQ16B0017",
                    "create_date": "2016-12-20T22:50:56.135000Z",
                    "funding_agency": {
                        "id": 1234567,
                        "toptier_agency": {
                            "cgac_code": "HEY",
                            "fpds_code": "HEYA",
                            "name": "DEPARTMENT OF POORLY NAMED TEST DATA"
                        },
                        "subtier_agency": {
                            "subtier_code": "YEAH",
                            "name": "DEPARTMENT OF ARACHNID DISPOSAL"
                        },
                        "office_agency": null
                    }
                },
                {
                    "fain": "SBAHQ15J0005",
                    "create_date": "2016-12-20T22:50:52.650000Z",
                    "funding_agency": {
                        "id": 1234567,
                        "toptier_agency": {
                            "cgac_code": "HEY",
                            "fpds_code": "HEYA",
                            "name": "DEPARTMENT OF POORLY NAMED TEST DATA"
                        },
                        "subtier_agency": {
                            "subtier_code": "YEAH",
                            "name": "DEPARTMENT OF ARACHNID DISPOSAL"
                        },
                        "office_agency": null
                    }
                },
                {
                    "fain": "SBAHQ16B0069",
                    "create_date": "2016-12-20T22:50:53.071000Z",
                    "funding_agency": {
                        "id": 1234567,
                        "toptier_agency": {
                            "cgac_code": "HEY",
                            "fpds_code": "HEYA",
                            "name": "DEPARTMENT OF POORLY NAMED TEST DATA"
                        },
                        "subtier_agency": {
                            "subtier_code": "YEAH",
                            "name": "DEPARTMENT OF ARACHNID DISPOSAL"
                        },
                        "office_agency": null
                    }
                },
                {
                    "fain": "SBAHQ16B0070",
                    "create_date": "2016-12-20T22:50:52.907000Z",
                    "funding_agency": {
                        "id": 1234567,
                        "toptier_agency": {
                            "cgac_code": "HEY",
                            "fpds_code": "HEYA",
                            "name": "DEPARTMENT OF POORLY NAMED TEST DATA"
                        },
                        "subtier_agency": {
                            "subtier_code": "YEAH",
                            "name": "DEPARTMENT OF ARACHNID DISPOSAL"
                        },
                        "office_agency": null
                    }
                }
            ]
        }
    },
    {
        "name": "Testing filter combinations via OR on awards",
        "method": "POST",
        "status_code": 200,
        "request_object": {
            "filters": [
                {
                    "combine_method": "OR",
                    "filters": [
                        {
                            "operation": "is_null",
                            "field": "fain",
                            "value": false
                        },
                        {
                            "operation": "equals",
                            "field": "funding_agency__toptier_agency__name",
                            "value": "DEPARTMENT OF POORLY NAMED TEST DATA"
                        }
                    ]
                }
            ],
            "fields": [
                "fain",
                "uri"
            ]
        },
        "url": "/api/v1/awards/?page=1&limit=100",
        "response_object": {
            "page_metadata": {
                "page_number": 1,
                "count": 5,
                "num_pages": 1
            },
            "total_metadata": {
                "count": 5
            },
            "results": [
                {
                    "fain": "SBAHQ15J0005",
                    "uri": null
                },
                {
                    "fain": "SBAHQ16B0070",
                    "uri": null
                },
                {
                    "fain": "SBAHQ16B0069",
                    "uri": null
                },
                {
                    "fain": "SBAHQ16V0028",
                    "uri": null
                },
                {
                    "fain": "SBAHQ16B0017",
                    "uri": null
                }
            ]
        }
    },
    {
        "name": "Testing mode 'contains' awards/autocomplete",
        "method": "POST",
        "status_code": 200,
        "request_object": {
            "value": "a",
            "fields": [
                "recipient__location__state_code",
                "recipient__location__state_name"
            ]
        },
        "url": "/api/v1/awards/autocomplete/",
        "response_object": {
            "results": {
                "recipient__location__state_name": [
                    "Louisiana",
                    "Utah",
                    "South Dakota",
                    "Minnesota",
                    "Virginia"
                ],
                "recipient__location__state_code": [
                    "VA",
                    "LA"
                ]
            },
            "counts": {
                "recipient__location__state_name": 5,
                "recipient__location__state_code": 2
            }
        }
    },
    {
        "name": "Testing mode 'startswith' awards/autocomplete",
        "method": "POST",
        "status_code": 200,
        "request_object": {
            "value": "l",
            "fields": [
                "recipient__location__state_code",
                "recipient__location__state_name"
            ],
            "mode": "startswith"
        },
        "url": "/api/v1/awards/autocomplete/",
        "response_object": {
            "results": {
                "recipient__location__state_name": [
                    "Louisiana"
                ],
                "recipient__location__state_code": [
                    "LA"
                ]
            },
            "counts": {
                "recipient__location__state_name": 1,
                "recipient__location__state_code": 1
            }
        }
    },
    {
        "name": "Testing awards/total",
        "method": "POST",
        "status_code": 200,
        "request_object": {
            "aggregate": "sum",
            "group": "type_description",
            "field": "total_obligation"
        },
        "url": "/api/v1/awards/total/",
        "response_object": {
            "page_metadata": {
                "page_number": 1,
                "count": 2,
                "num_pages": 1
            },
            "total_metadata": {
                "count": 2
            },
            "results": [
                {
                    "item": "Cooperative Agreement",
                    "aggregate": "954392.01"
                },
                {
                    "item": "Unknown Type",
                    "aggregate": "1612311.83"
                }
            ]
        }
    },
    {
        "name": "Test accounts endpoint POST request",
        "method": "POST",
        "status_code": 200,
        "request_object": {
            "filters": [
                {
                    "operation": "equals",
                    "field": "appropriation_account_balances_id",
                    "value": 530
                }
            ],
            "fields": [
                "budget_authority_unobligated_balance_brought_forward_fyb"
            ]
        },
        "url": "/api/v1/accounts/",
        "response_object": {
            "page_metadata": {
                "page_number": 1,
                "count": 1,
                "num_pages": 1
            },
            "total_metadata": {
                "count": 1
            },
            "results": [
                {
                    "budget_authority_unobligated_balance_brought_forward_fyb": "864120.58"
                }
            ]
        }
    },
    {
        "name": "Test TAS endpoint POST request",
        "method": "POST",
        "status_code": 200,
        "request_object": {
            "filters": [
                {
                    "operation": "equals",
                    "field": "treasury_account_identifier",
                    "value": 63031
                }
            ],
            "fields": [
                "main_account_code"
            ]
        },
        "url": "/api/v1/accounts/tas/",
        "response_object": {
            "page_metadata": {
                "page_number": 1,
                "count": 1,
                "num_pages": 1
            },
            "total_metadata": {
                "count": 1
            },
            "results": [
                {
                    "main_account_code": "0100"
                }
            ]
        }
    },
    {
        "name": "Test submission endpoint POST request",
        "method": "POST",
        "status_code": 200,
        "request_object": {
            "filters": [
                {
                    "operation": "equals",
                    "field": "submission_id",
                    "value": 12
                }
            ],
            "fields": [
                "cgac_code"
            ]
        },
        "url": "/api/v1/submissions/",
        "response_object": {
            "page_metadata": {
                "page_number": 1,
                "count": 1,
                "num_pages": 1
            },
            "total_metadata": {
                "count": 1
            },
            "results": [
                {
                    "cgac_code": "073"
                }
            ]
        }
    },
    {
        "name": "Test transaction endpoint POST request",
        "method": "POST",
        "status_code": 200,
        "request_object": {
            "order": [
                "award"
            ]
        },
        "url": "/api/v1/transactions/?page=1&limit=1",
        "response_object": {
            "page_metadata": {
                "page_number": 1,
                "count": 1,
                "num_pages": 32
            },
            "total_metadata": {
                "count": 32
            },
            "results": [
                {
                    "id": 3,
                    "type": "05",
                    "type_description": "Cooperative Agreement",
                    "period_of_performance_start_date": null,
                    "period_of_performance_current_end_date": null,
                    "action_date": "2016-09-20",
                    "action_type": "A",
                    "federal_action_obligation": "8901.33",
                    "modification_number": "0003:560400DB",
                    "description": "FY 15 7J",
                    "awarding_agency": null,
                    "funding_agency": null,
                    "recipient": null,
                    "place_of_performance": null,
                    "assistance_data": {
                        "fain": "SBAHQ15J0005",
                        "uri": null,
                        "cfda_number": "59.007",
                        "cfda_title": "7(j) Technical Assistance",
                        "face_value_loan_guarantee": null,
                        "original_loan_subsidy_cost": null
                    },
                    "contract_data": null
                }
            ]
        }
    },
    {
        "name": "Test transaction total POST request",
        "method": "POST",
        "status_code": 200,
        "request_object": {
            "aggregate": "sum",
            "field": "federal_action_obligation",
            "date_part": "year",
            "group": "action_date"
        },
        "url": "/api/v1/transactions/total/",
        "response_object": {
            "page_metadata": {
                "page_number": 1,
                "count": 1,
                "num_pages": 1
            },
            "total_metadata": {
                "count": 1
            },
            "results": [
                {
                    "item": "2016",
                    "aggregate": "2566703.84"
                }
            ]
        }
    },
    {
        "name": "Test single award endpoint",
        "method": "POST",
        "status_code": 200,
        "request_object": {},
        "url": "/api/v1/awards/47691/",
        "response_object": {
            "id": 47691,
            "date_signed__fy": 2016,
            "data_source": null,
            "type": "U",
            "type_description": "Cooperative Agreement",
            "piid": "SBAHQ16M0163",
            "fain": null,
            "uri": null,
            "total_obligation": "54400.00",
            "total_outlay": null,
            "date_signed": "2016-09-01",
            "description": null,
            "period_of_performance_start_date": "2016-09-01",
            "period_of_performance_current_end_date": null,
            "potential_total_value_of_award": null,
            "last_modified_date": null,
            "certified_date": null,
            "create_date": "2016-12-20T22:50:53.882000Z",
            "update_date": "2016-12-20T22:50:57.802000Z",
            "parent_award": null,
            "awarding_agency": null,
            "funding_agency": null,
            "recipient": null,
            "place_of_performance": null,
            "latest_submission": 12
        }
    },
    {
        "name": "Test single transaction endpoint",
        "method": "POST",
        "status_code": 200,
        "request_object": {
            "verbose": true
        },
        "url": "/api/v1/transactions/21/",
        "response_object": {
            "id": 21,
            "data_source": "DBR",
            "usaspending_unique_transaction_id": null,
            "type": "C",
            "type_description": "Delivery Order",
            "period_of_performance_start_date": null,
            "period_of_performance_current_end_date": null,
            "action_date": "2016-09-07",
            "action_type": "C",
            "federal_action_obligation": "600.00",
            "modification_number": "1",
            "description": "IGF::OT::IGF",
            "drv_award_transaction_usaspend": null,
            "drv_current_total_award_value_amount_adjustment": null,
            "drv_potential_total_award_value_amount_adjustment": null,
            "last_modified_date": null,
            "certified_date": null,
            "create_date": "2016-12-20T22:50:57.575000Z",
            "update_date": "2016-12-20T22:50:57.575000Z",
            "award": 47917,
            "submission": 12,
            "awarding_agency": null,
            "funding_agency": null,
            "recipient": null,
            "place_of_performance": null,
            "assistance_data": null,
            "contract_data": {
                "transaction": 21,
                "data_source": "DBR",
                "piid": "SBAHQ16F0159",
                "parent_award_id": "NNG15SC89B",
                "cost_or_pricing_data": "J",
                "type_of_contract_pricing": "J",
                "type_of_contract_pricing_description": null,
                "naics": "541519",
                "naics_description": "541519: OTHER COMPUTER RELATED SERVICES",
                "period_of_performance_potential_end_date": "2016-09-24",
                "ordering_period_end_date": null,
                "current_total_value_award": "600.00",
                "potential_total_value_of_award": "600.00",
                "referenced_idv_agency_identifier": "8000",
                "idv_type": "C",
                "multiple_or_single_award_idv": null,
                "type_of_idc": null,
                "a76_fair_act_action": null,
                "dod_claimant_program_code": null,
                "clinger_cohen_act_planning": "0",
                "commercial_item_acquisition_procedures": "A",
                "commercial_item_test_program": "0",
                "consolidated_contract": "0",
                "contingency_humanitarian_or_peacekeeping_operation": null,
                "contract_bundling": "D",
                "contract_financing": null,
                "contracting_officers_determination_of_business_size": "S",
                "cost_accounting_standards": null,
                "country_of_product_or_service_origin": "USA",
                "davis_bacon_act": "X",
                "evaluated_preference": "NONE",
                "extent_competed": "D",
                "fed_biz_opps": "Y",
                "foreign_funding": "X",
                "gfe_gfp": null,
                "information_technology_commercial_item_category": null,
                "interagency_contracting_authority": "X",
                "local_area_set_aside": "0",
                "major_program": null,
                "purchase_card_as_payment_method": "0",
                "multi_year_contract": null,
                "national_interest_action": "NONE",
                "number_of_actions": "1",
                "number_of_offers_received": "5",
                "other_statutory_authority": null,
                "performance_based_service_acquisition": "X",
                "place_of_manufacture": "D",
                "price_evaluation_adjustment_preference_percent_difference": null,
                "product_or_service_code": "7035",
                "program_acronym": null,
                "other_than_full_and_open_competition": null,
                "recovered_materials_sustainability": "C",
                "research": null,
                "sea_transportation": null,
                "service_contract_act": "X",
                "small_business_competitiveness_demonstration_program": null,
                "solicitation_identifier": null,
                "solicitation_procedures": "MAFO",
                "fair_opportunity_limited_sources": "FAIR",
                "subcontracting_plan": null,
                "program_system_or_equipment_code": null,
                "type_set_aside": "SBA",
                "epa_designated_product": "E",
                "walsh_healey_act": "X",
                "transaction_number": "0",
                "referenced_idv_modification_number": "NNG15SC89B",
                "rec_flag": null,
                "drv_parent_award_awarding_agency_code": null,
                "drv_current_aggregated_total_value_of_award": null,
                "drv_current_total_value_of_award": null,
                "drv_potential_award_idv_amount_total_estimate": null,
                "drv_potential_aggregated_award_idv_amount_total_estimate": null,
                "drv_potential_aggregated_total_value_of_award": null,
                "drv_potential_total_value_of_award": null,
                "create_date": "2016-12-20T22:50:57.575000Z",
                "update_date": "2016-12-20T22:50:57.575000Z",
                "last_modified_date": null,
                "certified_date": null,
                "reporting_period_start": null,
                "reporting_period_end": null,
                "submission": 12
            }
        }
    }
]
